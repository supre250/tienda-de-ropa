<!-- ADMIN - Formulario de categoría -->

<div class="admin-category-form-page">
  <div class="header">
    <h1>
      {{ isEditMode ? 'Editar categoría' : 'Nueva categoría' }}
    </h1>

    <button type="button" class="btn-secondary" (click)="cancel()">
      Cancelar
    </button>
  </div>

  <div *ngIf="loading" class="info-text">Cargando categoría...</div>
  <div *ngIf="errorMessage" class="error-text">{{ errorMessage }}</div>

  <form
    class="category-form"
    [formGroup]="form"
    (ngSubmit)="onSubmit()"
    *ngIf="!loading"
  >
    <div class="form-group">
      <label>Nombre</label>
      <input type="text" formControlName="name" />
      <div
        class="error-text"
        *ngIf="nameControl.invalid && nameControl.touched"
      >
        El nombre es obligatorio (mínimo 3 caracteres).
      </div>
    </div>

    <div class="form-group">
      <label>Descripción</label>
      <textarea formControlName="description" rows="3"></textarea>
    </div>

    <div class="actions">
      <button
        type="submit"
        class="btn-primary"
        [disabled]="saving || form.invalid"
      >
        {{ saving ? 'Guardando...' : 'Guardar' }}
      </button>
      <button
        type="button"
        class="btn-secondary"
        (click)="cancel()"
      >
        Cancelar
      </button>
    </div>
  </form>
</div>
